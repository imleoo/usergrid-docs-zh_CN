

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data Model &mdash; Usergrid v1.0 documentation</title>
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Usergrid v1.0 documentation" href="../index.html" />
    <link rel="up" title="Entities &amp; Collections" href="index.html" />
    <link rel="next" title="Basic API Operations" href="api_overview.html" />
    <link rel="prev" title="Entities &amp; Collections" href="index.html" /> 
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="../_static/usergrid_400.png" alt="Logo"/><h1 class="heading"><a href="../index.html">
          <span>Usergrid v1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Data Model</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="index.html">Entities &amp; Collections</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="api_overview.html">Basic API Operations</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="data-model">
<h1>Data Model<a class="headerlink" href="#data-model" title="Permalink to this headline">¶</a></h1>
<div class="section" id="entities">
<h2>Entities<a class="headerlink" href="#entities" title="Permalink to this headline">¶</a></h2>
<p>Usergrid calls the basic objects of your application &#8220;entities&#8221;. These
represent things like users as well as content or other application data.</p>
<p>Usergrid pre-defines a set of entity types. These are currently:</p>
<ul class="simple">
<li>user</li>
<li>group</li>
<li>activity</li>
<li>message</li>
<li>asset</li>
<li>folder</li>
<li>event</li>
</ul>
<p>Each entity type is stored in it&#8217;s own collection, so:</p>
<ul class="simple">
<li>/users</li>
<li>/groups</li>
<li>/activities</li>
<li>/messages</li>
<li>/assets</li>
<li>/folders</li>
<li>/events</li>
</ul>
<p>You can also create any type of dynamic (custom) entity you want. Dynamic
entities are automatically stored in a collection who&#8217;s name is the pluralized
form of the entity type. For example, creating an entity of type &#8220;cat&#8221; will
store the entity in a collection named &#8220;cats&#8221;. As a consequence, please choose
entity types that are singular nouns.</p>
<p>Instances of an entity all have a unique uuid assigned to them. You can assign
your own id property to an entity, but the uuid is the canonical, and fastest,
was to access an entity.</p>
<p>All entities have pre-defined properties as well as have the ability to have
any number of dynamic (custom) properties used with them. The pre-defined
properties may be of specific types for validation purposes, while dynamic
properties can be any thing that is represented by JSON.</p>
<p>All entities have the following properties:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="17%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>uuid</td>
<td>UUID</td>
<td>Entity unique id</td>
</tr>
<tr><td>type</td>
<td>string</td>
<td>entity type (i.e. &#8220;user&#8221;)</td>
</tr>
<tr><td>created</td>
<td>long</td>
<td>unix timestamp of entity creation</td>
</tr>
<tr><td>modified</td>
<td>long</td>
<td>unix timestamp of entity modification</td>
</tr>
</tbody>
</table>
<p>Dynamic entities also have an optional &#8220;name&#8221; property that&#8217;s a string value.</p>
<p>Please refer to the Entity reference in the appendix for the schemas and
business logic associated with the pre-defined entities.</p>
</div>
<div class="section" id="collections">
<h2>Collections<a class="headerlink" href="#collections" title="Permalink to this headline">¶</a></h2>
<p>As mentioned previously, all entities are contained in &#8220;root&#8221; collections. In
addition to being members of the root collections, entities can also be
members of collections held by other entities. For example, every group
maintains a collection of users. Entities are always members of their root
collection even if they&#8217;re also members of a collection owned by an entity.</p>
<p>Only pre-defined entities own collections, and all entities in a collection
are of the same type. Entity collections are indexed, so you can, for example,
query for all the users in a group who&#8217;s biography property contains the word
&#8220;California&#8221;.</p>
<p>The collections defined for entities are listed in the Entity section of the
appendix.</p>
</div>
<div class="section" id="connections">
<h2>Connections<a class="headerlink" href="#connections" title="Permalink to this headline">¶</a></h2>
<p>Any two entities can be connected together by dynamically creating a
connection between them. These connections are defined with a connection type,
which is an arbitrary string. For example, suppose you want to have a user
&#8220;like&#8221; a restaurant, you&#8217;d create a &#8220;like&#8221; connection between the user entity
and the restaurant entity. Once you&#8217;ve done this, you can now search across
connections, such as finding all restaurants the user likes that serve Indian
food.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="index.html">Entities &amp; Collections</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="api_overview.html">Basic API Operations</a>&#160;&#160;»
        </p>

      </div>


    <div class="footer">
        &copy; Copyright 2011, Usergrid.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25938707-2']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>